0
"""Returns:
     An iterator over n combinations of the hyperparameters. Each hyperparameter value is drawn uniformly
     from interval [low, high] specified by the corresponding input argument."""
"""The problem related to the fact that the decoder may produce sequences longer than the target sequence when teacher_forcing=False has been fixed in the updated assignment."" => Would it be possible to know where and how the fix was made, so that we can just incorporate in current copy (if it is trivial), instead of downloading the whole assignment again. (edited)"
:+1:
"@Alexander Ilin Can you please describe the SMB thing in detail, maybe with an working example, for windows?"
@Cagatay Yildiz (TA) @Hai To (TA)
@Hai To (TA) should I take a backup of the current notebooks before deleting?
@Jonathan Please take a look at the feedback.
"After working out the backward equation, one can realize that required parameters are already defined as attributes of the class (that is why it requires to call the forward function first & its just one way of implementation)."
"Ah, alright. I started using it and its definitely more intuitive. Thanks!"
"Anyone else having trouble getting conda to work? I'm just getting a ""SpecNotFound: Can't process without a name"" error whatever I try."
Are there any other possibilities to take the exam than on May 31st as stated in oodi? Thanks!
Are there limitations to the format of the project? E.g. should it be jupyter notebook with comments or can it also be plain python & markdown documentation?
"As for the project, I have a question about the evaluation. If the evaluation is going to be peergrading, how will the ""peergraders"" evaluate the novelty/excellency of the approach? Is this bonus associated only with the report itself or should the peergraders familiarize with the state-of-the-art of the each approach to the point of deciding what is novel or excellent?"
Backprop through an RNN might be a bit easier and the mechanics is similar. (edited)
Can I see my grading from somewhere before DL. It would be good to know if I have done some silly mistake. I didn't find anyone to ask this question in Slack earlier.
Can we use the @ syntax for matrix multiplication? Is the Python version of grader new enough? (edited)
Check what random_search() should return:
Click ’Control Panel’ at the right upper corner. Then click ’Stop My Server’ and then ’Start My Server’. It should take you to the page where you can choose the Deep Learning Course. (edited)
"Ditto. Ours was rejected once, still waiting for regrading of the amended proposal."
Do you mean that you would like to implement convolutions in numpy? (edited)
Even though it is pass deadline (forgot to submit). Could we get at least feedback for assigment or all effort is in vain?
"FWIW, if anyone is interested in backprop through CNNs, I found this: https://becominghuman.ai/back-propagation-in-convolutional-neural-networks-intuition-and-code-714ef1c38199"
For Ubuntu
"For instance, for the simpler example:
# Let's test your implementation
param1 = [0.1, 0.2, 0.3]  # Iterable with grid values of parameter 1
param2 = [0.4, 0.5]       # Iterable with grid values of parameter 2
param3 = [0.6, 0.7, 0.8]  # Iterable with grid values of parameter 3
for i in grid_search(param1, param2, param3):
    print(i)

I get:
(0.1, 0.4, 0.6)
(0.2, 0.4, 0.6)
(0.3, 0.4, 0.6)
(0.1, 0.5, 0.6)
(0.2, 0.5, 0.6)
(0.3, 0.5, 0.6)
(0.1, 0.4, 0.7)
(0.2, 0.4, 0.7)
(0.3, 0.4, 0.7)
(0.1, 0.5, 0.7)
(0.2, 0.5, 0.7)
(0.3, 0.5, 0.7)
(0.1, 0.4, 0.8)
(0.2, 0.4, 0.8)
(0.3, 0.4, 0.8)
(0.1, 0.5, 0.8)
(0.2, 0.5, 0.8)
(0.3, 0.5, 0.8)"
"For windows, when  u are already in aalto network"
"From Jupyter hub, on the Files tab (that is the file list, not in a notebook), select New -> Terminal, the run your favorite linux command, such as du -h or find . -size +50M -exec ls -alGh {} \;."
"From the assignments page: ""You can submit multiple times. Only the last submission will be evaluated.""

Can we not get the points from the last submission that was on time? I did not realize that the grader will automatically give zero points if the last submission is late (or that it would even be possible to make a submission too late) even though there were earlier valid submissions. It would sound very harsh that you can lose all your earlier points from for example assignment 5.1 by making an additional submission with updated assignment 5.2 one minute too late."
"General question(s): Talking about image classification, when does it make sense to use a pretrained model? How close does the data the model has been trained on need to be to the data you want to use it for?
Eg would it make sense to use a model pretrained on face image data for your datasets of cats and dogs? Or using a model pretrained on imagenet (or similar, that has some classes like airplanes and ships etc that are similar, though probably from a different angle) for high resolution satellite image classification? Or a model pretrained on high resolution (0.2m spatial res) for low resolution (10-30m spatial resolution) satellite data? And related to that: How about image datasets having different spectral resolutions (number of channels)?
Is it better to have a model trained on more detailed/various dataset or better to have one trained on more basic dataset?"
Go to Files and you should see the data files there. It says “empty” because this is not a real assignment and it does contain notebooks.
"Great to hear, thanks!"
Great!
"Hello, concerning @Alexander Ilin’s MyCourses message today (On cloning notebooks): does this mean that we can not, after all, solve the notebooks locally on our own computers? I.e. we can not download the notebooks, solve them, and then upload them to jupterhub? So we have to solve them locally and then find each cell we have modified and then manually copy them into the cells in the original notebook on jupyterhub?"
"Hey! I find out that in first assignment and in section ""Train an MLP network"" => ""Training loop"" says that we used Adam optimizer with learning rate = 0.01 and but my optimizer = torch.optim.Adam(mlp.parameters(), lr=0.005)? So which learning rate is the correct one, 0.005 or 0.01? (edited)"
"Hey, why does the solution for ""A multilayer perceptron (MLP) network with two hidden layers"" uses sequential, but the exercise itself says ""Please do not use torch.nn.Sequential in your code.""?"
"Hi Maksad, one of the TAs here. I believe the BDA course and this one is a bit different when it comes to how the assignments are organized. In the way it is done here, after the assignment feedback (test cases) are released, by just going through the feedback one could come up with the correct solution (code). Now allowing re-submission defeats the purpose of the assignment. However, I also realise the importance of getting feedback on the assignments (before the deadline) and that’s why we have organised the exercise sessions."
Hi how long do the feedback for proposal take? Do we have to get approval before ddl?
"Hi! I was trying to re-fetch the assignment 5, but the directory 5_rnn cannot be deleted! I first made it empty, but still I get the error: ""Delete Failed"" .
Anyone can help? Is it possible that there is a hidden file? How can I delete it?"
"Hi, I fetched 31_regularization some days ago and I finished and validated it. As I did not submit it, I wanted to validate it now and submit it but it's not validating anymore...I presume it could br related to the updates you made? Anyhow, I was trying to refetch it but I haven't been able to figure out how. Could you give further instructions on how to ""refetch"" this?

Thanks!"
"Hi, I have installed torch locally in my $HOME like pip install --user torch==1.0.1 torchvision seems to work fine for me in Panikki computers too."
"Hi, I made a new project proposal. I would appreciate if I can get feedback on it (the previous version was graded on Friday 5th by Kunal Ghosh, so even if it says graded pls check the date) (edited)"
"Hi, how long is 32_hyperparameters_search supposed to run? With 10000 hyperparameter combinations, it's still running for several hours now (on CPU). Just wondering if that's expected for the assignment to take this long in a single run. (edited)"
"Hi, where is the problem mentioned in last message available in slack? At least, the link in the message did not lead to anywhere in slack (when opened with browser). (edited)"
"Hi.
I wanted to ask question regarding the submission. While submitting should there be a separate submission of the file 1_mlp.pth. Because when submitting I can only see the jupyter notebook file.
Moreover, should there be any submission regarding the data folder which has an empty jupyter notebook."
Hi. Are we going to have lectures or are we over with them?
"Hmm, true, as long as the RNN is limited to a certain number of timesteps … or I suppose one could just  keep track of the computations"
How is this backwards function related to the gradients of a function with relation to some variable?
How long is validation for 31 supposed to run? It's been going at it for quite a while...
I (and many others) find PyTorch to be a much more convenient framework
I accept that. The solutions will be presented on Friday at 16:15.
I agree with that. Please contact @Hai To (TA)  in such cases. I do not know how to configure nbgrader to handle such situations properly.
I am not aware of any such arrangements at the moment. Tagging @Alexander Ilin so he is aware of your request.
"I am working on figuring out what's wrong, but also need to ask others."
"I can run the code 31 and 32 smoothly and get the desired results. However in validation step,  the result is : Error validating assignment. Dose anyone know what is wrong?"
I can't seem to get same answers for the analytical and numerical gradients for the ReLU.
I do not know how to fix this. Can you install packages in your current conda environment?
I expect most of the projects to have zero bonus points but still hope that a few will get some.
"I feel the same:
https://twitter.com/karpathy/status/868178954032513024"
"I guess, but it's not informative when the point of the exercise is to learn how to define a MLP without sequential."
"I have a hard time figuring out the deadlines for the exercises, i.e. I can't find the DL on assignment 3 right now. Where can I find it?"
"I have problem with my feedback.
The issue is that I have submitted both files 31_regularization and 32_hyperparameter_search. The feedback for 31_regularization normal, but for 32_hyperparameter_search.html I got 0.
It looks like your grading script has run on the old version of my 32_hyperparameter_search, thus gave me 0. I just run my file again and it seems to work perfectly fine. How can I resolve it? (edited)"
"I have similar problem, seems like autograder didn't use the latest submitted notebook, therefore I got only 4/5 for the regularization notebook. However the latest submitted notebook passes all the hidden tests."
"I have the same question, at the ""assignments"" tab in jupyter hub we can only see one file, the ipynb file. Not the .pth"
I just tried saving the notebooks on colab and they seemed to contain meta-data. I think the problem must have been related to copy-pasting cells instead of uploading the notebook. (edited)
"I missed the starting lecture so two questions regarding assignments. There is no minimum point requirement from an assignment round, e.g. you can pass the course even if you miss a round? Are the model answers available after the dl of an assignment round? Thanks!"
I posted a picture of what we mean below
"I ran this week's exercises on the Paniikki computers, but the pytorch version that came with module load anaconda3/latest was old (0.3.0, so it didn't support torch.device), so I had to install the 4GB Conda environment. Could it be possible to upgrade pytorch in Paniikki? I could also post a ticket to Aalto-IT, but I figure it gets handled a bit faster if the course staff ask for it."
I submitted the exercise 5 yesterday. Then i submitted it again because a made some modifications and the deadline was extended. Presumably only the latest submission is graded?
I think that's only applicable to grid search
"I think the mycourses instruction might be incorrect, it says:
- Upload the notebook and the files created during training ...
- Run all the cells again with skip_training=False on jupyterhub.
but I assume we're not supposed to run the training on JH."
I think you can find them in the announcements in MyCourses.
"I used VS Code for the first assignment, its jupyter extension seemed to just happily discard all metadata when importing."
I used it and did not get any problems with the grader
I used tar -cvf  data.tar data_folder and then downloaded the tar file
"I was writing too slow, you already figured everything out :smile:"
"I would say that a good rule of thumb is the one that you proposed - the closer your task is to the original task, the better. And because in deep learning there is little theory that could help you beforehand, the best way is to test it empirically, just by trying both. Mostly the paper's use models pretrained on ImageNet. Even for a perceptual (or quasi-perceptual) loss in comparing the images of faces people use networks pretrained on ImageNet, which is a different task itself. The more basic is the dataset used for pretraining, the more basic are the features extracted in the network."
I'll think about this.
I've realized that I've described in my project proposal a method that's unnecessarily complicated. Can I update the proposal immediately or should I wait for it to be reviewed once?
"If I want to go to a Q&A session to discuss the grading of my assignment but cannot attend the session on Friday because of something I have planned before the course started, what can I do?"
"If someone hasn't noticed the announcement you can use module load courses/CS-E4890-deep-learning

https://mycourses.aalto.fi/mod/forum/discuss.php?d=138799 (edited)"
"If you return a solution, after the deadline you will receive an html file showing the number of points and what tests failed."
"If you use google colab, be careful: I received submissions that were solved on colab and which did not contain any meta-data."
"If you've already deleted all the files and it still isn't deletable, a workaround is to rename the folder"
"Implementation of grid_search() and random_search() instructs:
Returns an iterator over all combinations of the grid values of the given iterables.
(edited)"
"In my case, it's pretty long: 1000 elements."
Indeed! They were all bonus tasks. That’s great! My bad!
Is there a way to fetch the assingment 4 anymore? I did not fetch it originally and missed the deadline but I would still like to check the code.
"It should be 10 combinations:
n = 10  # Number of parameter combinations"
It should be Tuesday 6:00
I’ll try to arrange another exam session.
"MSEloss takes two parameters in the forward function - output of the network and true target values. Having that, we’re able to calculate the error and understand, where our network makes mistakes and how big they are. Then we want to back propagate those errors through our network. Now backward function is only called after the forward, so MSEloss class already has the self.diff attribute and since that is the only parameter necessary for calculating the gradient - the function itself does not take any additional parameters."
"Maybe, it is going help to install Anaconda3 first as it is a sandbox installation with Python and data science tools. And then create conda environment from Anaconda3 prompt window."
"More detailed/specific description is here (a message from the professor, Aki Vehtari):
Resubmission of assignments and/or project work in period III

The rules of resubmission:

It is possible to submit first time or resubmit a part individually without the need to submit others. These parts and their DLs are:

- All 9 assignments (all 9 assignments must be returned, it is not possible to return single assignments):
  - Report DL: 11 of February, 4 am.
  - Peergrading DL: 18 of February, 4 am
  - You should see ""CS-E5710 Bayesian Data Analysis 2018.2"" in peergrade

- Project work report
  - Report DL: 11 of February, 4 am.
  - Peergrading DL: 18 of February, 4 am.
  - You should see """"CS-E5710 Bayesian Data Analysis Project 2018.2"" in peergrade

- Project presentation:
  - Held between 18 and 22 of February (evaluation week).
  - If you want to present, register by 13 of January (end of day) via https://goo.gl/forms/mKi6fi5SxsHyavXh2 so that we know how many presentation slots we need to organize.
  - After we know how many presentations there will be, we will make a form for reserving a presentation slot

If you don't see 2018.2 in peergrade, please contact.

We will arrange some TA sessions before the deadlines. You can also use bda2018aalto.slack.com for discussion.
(edited)"
Nice. I thought it was in the evening. (edited)
No need to submit the data “assignment”.
"No, it is not possible. You will get the feedback only after the deadline."
"Now I see that it's just random draw of n combinations. However, ""An iterator over n combinations of the hyperparameters. "" when combined with grid_search() implementation, misled me to think we are generating a nxnxnxn grid values. (edited)"
"Okay thanks, the ""assignment 3 published"" post seems to be missing though. (edited)"
"Okay, thanks!"
Or possibly even backprop through convolutions. For me that’s still a bit of an unknown as to the exact mechanics of how that works.
Please set skip_training to True before validation. The error actually says the opposite. My bad.
Please update
Please write your usernames to @Hai To (TA)
Questions related to project? new channel? (edited)
"Regarding the comment on implementing things from scratch at todays lecture: Assignment 2 handled most of my itch for bare bones implementation, but it didn't cover convolutions. These would've been a nice addition as they're a crucial component of many of the methods covered (maybe as a small first exercise in the 4th assignment, to not interrupt the flow of the course?)"
"Regarding the project, are we allowed to use pretrained networks (like resnet) in training, or should the model be built from scratch?"
"Results in this error: Solving environment: failed

NotWritableError: The current user does not have write permissions to a required path.
 path: /usr/pkgs/urls.txt
 uid: 1000
 gid: 1000

If you feel that permissions on this path are set incorrectly, you can manually
change them by executing

 $ sudo chown 1000:1000 /usr/pkgs/urls.txt

In general, it's not advisable to use 'sudo conda'. (edited)"
"Round 4: There is quite a lot of repeated elements for the VGG style network, how will the grader handle if I construct the network with layers in side of nn.Sequential and nn.Sequential(nn.Sequential) structures or do we need to define the layers individually for the grader to be able to evaluate the solution?"
"Running ""sudo conda env create --file=environment.yml"" results in the first error"
"Same question, after hitting 'Submit' under the 'Assignments' tab, the 'Submitted assignments' section shows only '1_mlp'. Can we understand this to mean that both the Notebook file and the .pth file are automatically submitted?"
"Students can follow the course curriculum and submit all the assignments on the dates that are appointed as the course progresses (meaning continuous weekly deadlines) or submit everything/partial on the second deadline (when the course is finished).
Students also have a chance to improve their grades by submitting firstly everything the first time, get feedback on how to improve their work and resubmit everything on the second deadline."
Thank you for the feedback and encouragement!
Thank you!
Thanks
"Thanks @Hai To (TA)! I tried before deleting just the one notebook and didn't work, this did work :)"
Thanks for the clarification!
"Thanks for the reply, works now"
Thanks!
"Thanks. It seems the link didn't originally work for me because it was in a separate channel (which I wasn't subscribed to). Now, I can see it."
"That sounds reasonable, however it raises another question: Will there be any extra work (bonus points) for students like me who've missed a deadline or those who want to improve their grade?"
"That worked, thanks"
"That's because, I generated a combination of each parameter taking 10 values."
"The answers will not be distributed, they will be shown in the Q&A sessions on Fridays at 16:15."
"The assignment tab shows only ipynb files. When you click ""Submit"" all the files from the folder are submitted."
The deadline was 6am this morning
"The error went away on its own today somehow, but thanks for the suggestions!"
"The fix that was made to Assignment 5: In cell 53 of 51_rnn:
before the change:
        output_length, _, output_dictionary_size = decoder_outputs.size()
        assert (output_length == target_length) or not teacher_forcing, \
after the change:
        output_length, _, output_dictionary_size = decoder_outputs.size()
        if output_length > target_length:
            decoder_outputs = decoder_outputs[:target_length, :, :]
            output_length = target_length
        assert (output_length == target_length) or not teacher_forcing, \
So, three lines were inserted:
        if output_length > target_length:
            decoder_outputs = decoder_outputs[:target_length, :, :]
            output_length = target_length
(edited)"
Then you'll be able to re-fetch the assignment
"There has been discussion that because the model is fitted even when just validating, the validation is timing out"
There has been some talk in the ex3 group. It does run the training as well and it can happen that the notebook times out. So if you can run all cells yourself then you should be good.
Updated
"Updates: it doesn't work on eduroam., VPN is needed.  AALTO\username is probably the username you need.  I updated info at http://scicomp.aalto.fi/aalto/jupyterhub-data.html - but still am getting confirmation on the usernames."
Wait a sec. Why can't I see the assignment 2 anymore? It is missing from the list.
"We submitted a project proposal for a 3-person team, when can we expect to have it approved/declined, in case we have to rearrange the team?"
We will look at it soon.
"We will put it back after the feedback round. I removed it because if someone clicks the Submit button and we re-run the evaluation script, he/she might get a late submission penalty. The nbgrader may not be advanced enough to handle such situations properly."
"What will the exam be like? Is there (pseudo)programming, concepts, theory? How many exercises? How many points per exercise?"
"What's your output in the test cell for random search, 'cause mine is:"
"When I log in to jupyter.cs.aalto.fi it defaults to a jupyter lab view (https://jupyter.cs.aalto.fi/user/username/lab). I found out that I could get the old view back by replacing lab with tree, but then when looking at the assignments tab I see this"
"When I try to save my notebooks or even delete files on JupyterHub, I get this error [Errno 122] Disk quota exceeded . I didn't submit the data folder and I don't have huge files uploaded or something. The only ""weird"" thing I did is to validate my notebook without turning the skip_training to True by mistake, but I've done that again in the past."
Where can I find the deadlines for exercises?
"Where do you see only the jupyter notebook file? When you click submit, nbgrader copies all the files from your folder (including *.pth)."
"Who should I bother with some issues related to feedback for ex 6.2 gans_mog? Sorry for my late reaction, I just noticed it. (edited)"
"Why Pytorch, and not tensorflow?"
Why does the backwards function now receive dy as input?
Why doesn't the MSEloss backwards function take any parameters?
Would it be possible to resubmit assignments once the deadline is passed (similar to Bayesian Data Analysis course)?
Yeaaah im just gonna give up with conda
"Yeah, 31 usually hangs up on validation, so if you have all your cells up and running smoothly - just submit the whole thing without validations. But do make sure you set the flag to True in the beginning of the notebook. As for 32 - validation should run just fine"
"Yes, I meant implementing convolutions and their gradient computations in numpy, just to make the idea more concrete."
"You are right, you should set skip_training=True during validation. Thanks!"
You can find them in the assignment publishing posts. (edited)
"You should get a response within three days at most. If you don't, just send me a slack message. So many things are going on at the same time, we also get lost from time to time:man-shrugging: @Alexander Ilin could answer your second question."
"did that too, but it didn't help"
"do not worry about the grader, do what you think is best. if the grader fails, we will look at the problems."
do you have .conda dir in your home directory?
"easy solution: use the gpu in colab e.g. https://colab.research.google.com/notebooks/gpu.ipynb

PS: I installed the conda env there too (edited)"
got it. thanks.
hello. is it possible to work on the mini-project on my own?
"hi, the rest of the course will be for the project only, right? no more lecture and assignment, I assume?"
how was it in BDA course?
https://deep-learning-aalto.slack.com/archives/CFWL107MH/p1553869447031500
https://mycourses.aalto.fi/mod/forum/discuss.php?d=136096
"if you are running on jupyterhub, conda should write pkgs to your ~/.conda/pkgs"
"it depends, I have nothing against using pretrained models, please submit your proposal and we will see."
"maybe not, but i sent you the released version"
"my current idea is that you will have 18 questions (3 per one lecture). Questions about theory based on the slides, no programming."
"n = 10  # Number of parameter combinations
...
...
random_search(n, n_hidden1_range, h_hidden2_range, log_lrate_range, log_dropout_range)
Maybe I misundertood this, but from the above code, my interpretation is n is for each parameter, giving a combination of 10^4"
no limitation
"ok, let me check this"
please try to look for some hidden files that may take space (edited)
rename folder and try again?
second: you don't but you have to submit it.
see the discussion in #ex1_mlp
"so, for exception like your case, we can exchange it over here via private channel. (edited)"
"sure, better to do exp if you dont have backups locally or somewhere else because you solved directly on jupyterhub"
"thanks Bella, worked like a charm"
"the bonus is not associated with the report only. If you do not know the state of the art, put zero points. If you are the author of the report and you think it is novel, raise a flag."
the lectures are over
"there is no reason to run this in jupyterhub, all the needed packages are installed there"
"this is not a solution, this is a test."
we are working on it. It takes 17 hours to create the feedback. We'll try to publish it today. (edited)
we will try to make it possible.
yes
"yes, it should be 10 combinations."
"yes, thanks, there is now a channel #project"
you can pm me
you have to delete the current 3_reg folder and click refetch
"• You can download, solve the notebook, upload and submit.
• You cannot: create a new notebook, copy-paste the contents of each cell to a new notebook, solve and submit the new notebook. (edited)"
